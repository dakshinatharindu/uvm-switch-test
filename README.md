# UVM Test for a Switch
An UVM based test for a simple switch

This is tested on Questasim. To run the simulation execute following command in the terminal (linux).

```vsim -c -do run.do```

## DUT
```systemverilog
module switch #
(
    parameter ADDR_WIDTH = 8,
    parameter DATA_WIDTH = 16,
    parameter ADDR_DIV = 8'h3F
)
(
    input clk,
    input rstn,
    input vld,
    input [ADDR_WIDTH-1:0] addr,
    input [DATA_WIDTH-1:0] data,
    output reg [ADDR_WIDTH-1:0] addr_a,
    output reg [DATA_WIDTH-1:0] data_a,
    output reg [ADDR_WIDTH-1:0] addr_b,
    output reg [DATA_WIDTH-1:0] data_b
);

    always @(posedge clk) begin
        if (!rstn) begin
            addr_a <= 0;
            data_a <= 0;
            addr_b <= 0;
            data_b <= 0;
        end else begin 
            if (vld) begin 
                if (addr >= 0 && addr <= ADDR_DIV) begin
                    addr_a <= addr;
                    data_a <= data;
                    addr_b <= 0;
                    data_b <= 0;
                end else begin
                    addr_a <= 0;
                    data_a <= 0;
                    addr_b <= addr;
                    data_b <= data;
                end
            end
        end
    end

endmodule

```

## UVM Report
![Alt text](https://github.com/dakshinatharindu/uvm-switch-test/blob/master/images/uvm_report_start.png "UVM Report Start")
![Alt text](https://github.com/dakshinatharindu/uvm-switch-test/blob/master/images/uvm_report_end.png "UVM Report Start")

## Waveform Generated by Random Sequences
![Alt text](https://github.com/dakshinatharindu/uvm-switch-test/blob/master/images/wave.png "UVM Report Start")

## Functional Coverage
![Alt text](https://github.com/dakshinatharindu/uvm-switch-test/blob/master/images/coverage.png "UVM Report Start")

